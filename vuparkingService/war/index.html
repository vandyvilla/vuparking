<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- The HTML 4.01 Transitional DOCTYPE declaration-->
<!-- above set at the top of the file will set     -->
<!-- the browser's rendering engine into           -->
<!-- "Quirks Mode". Replacing this declaration     -->
<!-- with a "Standards Mode" doctype is supported, -->
<!-- but may lead to some differences in layout.   -->

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Vanderbilt Parking Service</title>
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAtSfYekqIZU7-P2m4dkIRvRT2yXp_ZAY8_ufC3CFXhHIE1NvwkxTf6hCKcukJwMBYLDE5BCKXPxmnZg"
      type="text/javascript"></script>

    <script type="text/javascript">
    
    var geocoder;
    var address;
    var map;
    
    function load() {
      if (GBrowserIsCompatible()) {
        map = new GMap2(document.getElementById("map"));        
        var center = new GLatLng(36.142495,-86.806676);
        map.setCenter(center, 15);
        GEvent.addListener(map, "click", getAddress);
        geocoder = new GClientGeocoder();
    }
    }
    
    function getAddress(overlay, latlng) {
      if (latlng != null) {
        address = latlng;
        geocoder.getLocations(latlng, showAddress);
      }
    }

    function showAddress(response) {
      map.clearOverlays();
      if (!response || response.Status.code != 200) {
        alert("Status Code:" + response.Status.code);
      } else {
        place = response.Placemark[0];
        point = new GLatLng(place.Point.coordinates[1],
                            place.Point.coordinates[0]);
        marker = new GMarker(point);
        
        map.addOverlay(marker);
        marker.openInfoWindowHtml(
        '<b>latlng:</b>' + place.Point.coordinates[1] + "," + place.Point.coordinates[0] + '<br>' +
        '<b>Address:</b>' + place.address);
      }
    }
    </script>    
  </head>
  <body onload="load()" >
    <h1>Vanderbilt Parking Service Admin</h1>
    <div id="map" style="width: 500px; height: 300px"></div><BR>
	<FORM ACTION="/vuparkingservice" METHOD="POST">
      ParkingLot ID:
      <INPUT TYPE="TEXT" NAME="lotid"><BR>
      Operation method:
      <SELECT NAME="method">

      <OPTION SELECTED> query
      <OPTION> modify
      <OPTION> insert
      <OPTION> delete
      </SELECT><BR>
      ParkingLot Available Spot:
      <INPUT TYPE="TEXT" NAME="num_spot"><BR>
      <INPUT TYPE="SUBMIT" VALUE="Submit">
    </FORM>	
    <table>

      <tr>
        <td><a href="vuparkingservice">Display parking Information in server datastore</a></td>
      </tr>
    </table>
  </body>
</html>
